<form [formGroup]="form" (ngSubmit)="submitForm()">
    <div class="form-container">
      <ng-container *ngFor="let field of fields">
      
        <div class="row mt-3 mb-3">
          <label class="col-sm-3 col-form-label font-medium">{{ field.label }}
            <span class="badge bg-secondary" *ngIf="field.required">Richiesto</span>
          </label>
          <div class="col-sm-9" [formGroup]="form">
            <input *ngIf="field.type === 'textBox'" 
              [type]="!field.typeInput ? 'text' : field.typeInput "
              [name]="field.name" 
              [formControlName]="field.name"
              [attr.required]="field.required ? true : null"
              [id]="field.htmlId" 
              class="form-control" 
          
              [placeholder]="field.placeholder"
              [maxlength]="field.maxlength!"
              [minlength]="field.minlength!"
              >
              <textarea  *ngIf="field.type === 'textArea'"
            [placeholder]="field.placeholder" rows="4"
              >
  
              </textarea>
              <app-dynamic-select-box *ngIf="field.type === 'selectBox'" [config]="field"
              [parentValue]="formValues[field.selectOptions?.parent || '']" [value]="formValues[field.name]"
              [values]="field.selectOptions?.multiple ? formValues[field.name] : []"
              (valueChange)="onValueChange(field.name, $event)">
            </app-dynamic-select-box>
          </div>
  
  
          <!--  <div *ngIf="name.invalid && name.touched" class="text-danger">*Nome obbligatorio</div> -->
        </div>
  
  
      
      </ng-container>
    </div>
    


    <div class="form-footer">

      <button type="button" class="btn ana-button" (click)="cancellForm()"><span class="mdi mdi-keyboard-return"></span>Chiudi</button> 
      <button type="submit" class="btn ana-button" ><span class="mdi mdi-content-save-outline"></span>Salva</button>
      
  </div>
</form>